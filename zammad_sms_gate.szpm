{
  "name": "SMS Gate Integration",
  "version": "1.0.1",
  "vendor": "kamcio2603",
  "license": "MIT",
  "url": "https://github.com/kamcio2603/ZammadSMSGate",
  "description": {
    "en": "Allows sending SMS via SMS Gate API directly from tickets",
    "pl": "Umożliwia wysyłanie SMS przez API SMS Gate bezpośrednio z ticketów"
  },
  "files": [
    {
      "location": "app/models/channel/driver/sms/gate.rb",
      "permission": "644",
      "encode": "base64",
      "content": "Y2xhc3MgQ2hhbm5lbDo6RHJpdmVyOjpTbXM6OkdhdGUgPCBDaGFubmVsOjpEcml2ZXI6OlNtczo6QmFzZQoKICBkZWYgc2VsZi5kcml2ZXJfbmFtZQogICAgJ1NNUyBHYXRlJwogIGVuZAoKICBkZWYgc2VsZi5kcml2ZXJfaW5zdGFuY2UKICAgIG5ldwogIGVuZAoKICBkZWYgc2VsZi5kcml2ZXJfY2xhc3MKICAgICdTbXM6OkdhdGUnCiAgZW5kCgogIGRlZiBzZWxmLmRlc2NyaXB0aW9uCiAgICAnU01TIEdhdGUgUHJvdmlkZXInCiAgZW5kCgogIGRlZiBzZWxmLmNvbmZpZwogICAgewogICAgICBhcGlfa2V5OiAgICAgICB7IG5hbWU6ICdBUEkgS2V5JywgdHlwZTogJ3RleHQnLCByZXF1aXJlZDogdHJ1ZSB9LAogICAgICBhcGlfdXJsOiAgICAgICB7IG5hbWU6ICdBUEkgVVJMJywgdHlwZTogJ3RleHQnLCByZXF1aXJlZDogdHJ1ZSB9LAogICAgICBzZW5kZXJfbnVtYmVyOiB7IG5hbWU6ICdTZW5kZXIgTnVtYmVyJywgdHlwZTogJ3RleHQnLCByZXF1aXJlZDogZmFsc2UgfSwKICAgIH0KICBlbmQKCiAgZGVmIGFjY291bnRfZGF0YV92YWxpZGF0aW9uKGFjY291bnQpCiAgICBlcnJvcnMgPSBbXQogICAgZXJyb3JzLnB1c2goJ0FQSSBLZXkgbWlzc2luZycpIGlmIGFjY291bnRbJ2FwaV9rZXknXS5ibGFuaz8KICAgIGVycm9ycy5wdXNoKCdBUEkgVVJMIG1pc3NpbmcnKSBpZiBhY2NvdW50WydhcGlfdXJsJ10uYmxhbms/CiAgICBlcnJvcnMKICBlbmQKCiAgZGVmIHNlbmQob3B0aW9ucykKICAgIHJldHVybiBmYWxzZSBpZiBvcHRpb25zWzpyZWNpcGllbnRdLmJsYW5rPyB8fCBvcHRpb25zWzptZXNzYWdlXS5ibGFuaz8KCiAgICBiZWdpbgogICAgICByZXNwb25zZSA9IEhUVFAKICAgICAgICAuaGVhZGVycyhhY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJywgJ3gtYXBpLWtleSc6IG9wdGlvbnNbOmFwaV9rZXldKQogICAgICAgIC5wb3N0KCIje29wdGlvbnNbOmFwaV91cmxdfS9zZW5kIiwganNvbjogewogICAgICAgICAgdG86IHNhbml0aXplX3Bob25lX251bWJlcihvcHRpb25zWzpyZWNpcGllbnRdKSwKICAgICAgICAgIG1lc3NhZ2U6IG9wdGlvbnNbOm1lc3NhZ2VdLAogICAgICAgICAgZnJvbTogb3B0aW9uc1s6c2VuZGVyX251bWJlcl0KICAgICAgICB9KQoKICAgICAgaGFuZGxlX3Jlc3BvbnNlKHJlc3BvbnNlKQogICAgcmVzY3VlID0+IGUKICAgICAgUmFpbHMubG9nZ2VyLmVycm9yICJTTVMgR2F0ZSBlcnJvcjogI3tlLm1lc3NhZ2V9IgogICAgICBmYWxzZQogICAgZW5kCiAgZW5kCgogIHByaXZhdGUKCiAgZGVmIGhhbmRsZV9yZXNwb25zZShyZXNwb25zZSkKICAgIHJlc3VsdCA9IEpTT04ucGFyc2UocmVzcG9uc2UuYm9keS50b19zKQogICAgCiAgICBpZiByZXNwb25zZS5zdGF0dXMuc3VjY2Vzcz8KICAgICAgUmFpbHMubG9nZ2VyLmluZm8gIlNNUyBzZW50IHN1Y2Nlc3NmdWxseTogI3tyZXN1bHRbJ21lc3NhZ2VfaWQnXX0iCiAgICAgIHRydWUKICAgIGVsc2UKICAgICAgUmFpbHMubG9nZ2VyLmVycm9yICJTTVMgc2VuZGluZyBmYWlsZWQ6ICN7cmVzdWx0WydlcnJvciddfSIKICAgICAgZmFsc2UKICAgIGVuZAogIGVuZAoKICBkZWYgc2FuaXRpemVfcGhvbmVfbnVtYmVyKG51bWJlcikKICAgIG51bWJlci50b19zLmdzd"
    },
    {
      "location": "app/models/ticket/sms_decorator.rb",
      "permission": "644",
      "encode": "base64",
      "content": "VGlja2V0LmNsYXNzX2V2YWwgZG8KICBkZWYgc2VuZF9zbXMobWVzc2FnZSwgcmVjaXBpZW50ID0gbmlsKQogICAgcmV0dXJuIGZhbHNlIGlmIG1lc3NhZ2UuYmxhbms/CiAgICAKICAgIHJlY2lwaWVudCB8fD0gY3VzdG9tZXIubW9iaWxlCiAgICByZXR1cm4gZmFsc2UgaWYgcmVjaXBpZW50LmJsYW5rPwoKICAgIGNoYW5uZWwgPSBDaGFubmVsLmZpbmRfYnkoYXJlYTogJ1Ntczo6R2F0ZScpCiAgICByZXR1cm4gZmFsc2UgaWYgIWNoYW5uZWwKICAgIAogICAgY2hhbm5lbC5kZWxpdmVyKAogICAgICByZWNpcGllbnQ6IHJlY2lwaWVudCwKICAgICAgbWVzc2FnZTogbWVzc2FnZQogICAgKQogIGVuZAplbmQK"
    },
    {
      "location": "config/initializers/sms_gate.rb",
      "permission": "644",
      "encode": "base64",
      "content": "UmFpbHMuYXBwbGljYXRpb24uY29uZmlnLnRvX3ByZXBhcmUgZG8KICBuZXh0IGlmICFBY3RpdmVSZWNvcmQ6OkJhc2UuY29ubmVjdGlvbi5hY3RpdmU/CgogIFRpY2tldDo6QXJ0aWNsZTo6VHlwZS5jcmVhdGVfaWZfbm90X2V4aXN0cygKICAgIG5hbWU6ICdzbXMnLAogICAgY29tbXVuaWNhdGlvbjogdHJ1ZSwKICAgIHVwZGF0ZWRfYnlfaWQ6IDEsCiAgICBjcmVhdGVkX2J5X2lkOiAxCiAgKQoKICBDaGFubmVsOjpEcml2ZXIucmVnaXN0ZXIoJ1NNUzo6R2F0ZScsICdEcml2ZXI6OlNtczo6R2F0ZScpCmVuZA=="
    }
  ],
  "zammad_version": "6.0.x, 5.x, 6.1.x",
  "gem_dependencies": [
    {
      "gem": "http",
      "version": ">= 4.0.0"
    }
  ]
}
